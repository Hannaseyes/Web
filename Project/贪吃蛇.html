<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>贪吃蛇游戏</title>
			 <style type="text/css">
							#show{/*主界面CSS*/
							    position:relative;
								height:625px;
								width:625px;
								background-color:black;
								border-style:ridge;
								border-color:red;
								margin:0 auto;
							}
							.snake{/*蛇CSS*/
							    position:absolute;
								height:25px;
								width:25px;
								background-color:white;
								margin:0px;
							}
							#food{/*食物CSS*/
								position:absolute;
								height:25px;
								width:25px;
								background-color:red;
								margin:0px;
							}
			 </style>
			 <script type="text/javascript">
			 								 var snakeRandNumTop;//蛇上边距
											 var snakeRandNumLeft;//蛇左边距
											 var foodRandNumTop;//食物上边距
											 var foodRandNumLeft;//食物左边距
											 var snake;//蛇对象
											 var food;//食物对象
											 var show;//地图对象
											 var timeTop;//向上时钟
											 var timeRight;//向右时钟
											 var timeBottom;//向下时钟
											 var timeLeft;//向左时钟
											 var time=0;//时间从0开始
											 var score=1;
			                     function ready(){//初始化游戏界面函数
									         rand();
											 show=document.getElementById("show");//获取地图对象
											 alert("按任意方向键开始游戏!");					 				  
											 show.innerHTML+="<div class='snake'></div>";
											 show.innerHTML+="<div id='food'></div>";
											 snake=document.getElementsByClassName("snake");//获取蛇div对象
											 food=document.getElementById("food");//获取食物div对象						 
											 snake[0].style.top=snakeRandNumTop+"px";
											 snake[0].style.left=snakeRandNumLeft+"px";
										     food.style.top=foodRandNumTop+"px";
											 food.style.left=foodRandNumLeft+"px";
											 console.log(snake[0].style.top);
								 }
								 function rand(){//产生初始化随机数函数
											 snakeRandNumTop=Math.floor(Math.random()*24)*25;//获取1-25的随机数
											 snakeRandNumLeft=Math.floor(Math.random()*24)*25;//获取1-25的随机数
											 foodRandNumTop=Math.floor(Math.random()*24)*25;//获取1-25的随机数	
											 foodRandNumLeft=Math.floor(Math.random()*24)*25;//获取1-25的随机数	
								 }
								 document.onkeydown=move;
								 function move(event){
									 var keyCode=event.keyCode;
									 switch(keyCode){
										 case 37://向左移动												 
													 leftMove();
													 break;
										 case 38://向上移动
												     topMove();
													 break;
										 case 39://向右移动
													 rightMove();
													 break;
										 case 40://向下移动
											     	 bottomMove();
													 break;
									 }
								 }
								 function topMove(){
													 window.clearInterval(timeTop);
													 window.clearInterval(timeRight);
													 window.clearInterval(timeBottom);
													 window.clearInterval(timeLeft);
											 if(parseInt(snake[0].style.top)<25){//若头部
												 window.clearInterval(timeTop);//清除向上时钟
												 alert("游戏结束,确定后按任意键继续!");
												 
											 }
											 else if(snake[0].style.left==food.style.left&&snake[0].style.top==food.style.top){
												 time++;//时间增加2
												 score++;//分数增加2
												 show.innerHTML+="<div class='snake'></div>";//添加身体div标签
												 snake=document.getElementsByClassName("snake");//重新获取所有蛇div对象								 
												 for(var j=1;j<score;j++){
														 snake[j].style.top=snake[j-1].style.top;
														 snake[j].style.left=snake[j-1].style.left;
												 }
												 snake[0].style.top=parseInt(snake[0].style.top)-25+"px";
												 snake[0].style.lefy=parseInt(snake[0].style.left)+"px";
												 timeTop=window.setInterval(topMove, 1000);//向上时钟
											 }
											 else{		
												 time++;
												 if(score>1){
													 for(var j=1;j<score;j++){								     
															 snake[j].style.top=snake[j-1].style.top;
															 snake[j].style.left=snake[j-1].style.left;
													 }

												 }
												 snake[0].style.top=parseInt(snake[0].style.top)-25+"px";
												 snake[0].style.lefy=parseInt(snake[0].style.left)+"px";
												 timeTop=window.setInterval(topMove, 1000);//向上时钟
											 }
											 
								 }
								 function rightMove(){
													 window.clearInterval(timeTop);
													 window.clearInterval(timeRight);
													 window.clearInterval(timeBottom);
													 window.clearInterval(timeLeft);
											 //若到达边界提示游戏结束
											  if(snake[0].style.left>600){
												 alert("游戏结束,确定后按任意键继续!");
												 window.clearInterval(timeRight);//清除向上时钟
											 }
											 //若吃到食物
											 if(snake[score-1].style.left==foodRandNumLeft&&snake[score-1].style.top==foodRandNumTop){
												 time++;//加分次数
												 score++;
												 show.innerHTML+="<div class='snake'></div>";
												 snake=document.getElementsByClassName("snake");//重新获取蛇div对象
												 for(var j=0;j<score;j++){
													 snake[j].style.left+=(time-j)*25+"px";
													 snake[j].style.top+="px";
												 }
												 timeRight=window.setInterval(rightMove, 1000);//向右时钟
											 }
											 else{
												 time++;
													 for(var j=0;j<score;j++){
														 snake[j].style.left+=(time-j)*25+"px";
														 snake[j].style.top+="px";
													 }
												 timeRight=window.setInterval(rightMove, 1000);//向右时钟
											 }
								 }
								 function bottomMove(){
													 window.clearInterval(timeTop);
													 window.clearInterval(timeRight);
													 window.clearInterval(timeBottom);
													 window.clearInterval(timeLeft);
											  if(snake[0].style.top>600){
												 alert("游戏结束,确定后按任意键继续!");
												 window.clearInterval(timeBottom);//清除向上时钟
											 }
											 if(snake[score-1].style.left==foodRandNumLeft&&snake[score-1].style.top==foodRandNumTop){
												 time++;//加分次数
												 score++;
												 show.innerHTML+="<div class='snake'></div>";
												 snake=document.getElementsByClassName("snake");//重新获取蛇div对象
												 for(var j=0;j<score;j++){
													 snake[j].style.top+=(time-j)*25+"px";
													 snake[j].style.left+="px";
												 }
												 timeBottom=window.setInterval(bottomMove, 1000);//向下移动
											 }
											 else{
												 time++;
												 for(var j=0;j<score;j++){
														 snake[j].style.top+=(time-j)*25+"px";
														 snake[j].style.left+="px";
												 }
												 timeBottom=window.setInterval(bottomMove, 1000);//向下移动
											 }
								 }
								 function leftMove(){
													 window.clearInterval(timeTop);
													 window.clearInterval(timeRight);
													 window.clearInterval(timeBottom);
													 window.clearInterval(timeLeft);
											  if(snakeRandNumLeft-25<0){
												 alert("游戏结束,确定后按任意键继续!");
												 window.clearInterval(timeLeft);//清除向上时钟
											 }
											 if(snake[score-1].style.left==foodRandNumLeft&&snake[score-1].style.top==foodRandNumTop){
												 time++;//加分次数
												 score++;
												 show.innerHTML+="<div class='snake'></div>";
												 snake=document.getElementsByClassName("snake");//重新获取蛇div对象
													 for(var j=0;j<score;j++){
														 snake[j].style.left-=(time-j)*25+"px";
														 snake[j].style.top+="px";
													 }
												 timeLeft=window.setInterval(leftMove, 1000);//向左移动
											 }
											 else{
												 time++;
													 for (var j=0;j<score;j++ ){
														 snake[j].style.left-=(time-j)*25+"px";
														 snake[j].style.top+="px";
													 }
												 timeLeft=window.setInterval(leftMove, 1000);//向左移动
											 }
								 }	 
			 </script>
 </head>
 <body onload="ready()">
	  <div id="show">
	  </div>
 </body>
</html>
